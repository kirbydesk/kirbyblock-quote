(function(){"use strict";function a(e,t,o,n,r,i,S,C){var s=typeof e=="function"?e.options:e;return t&&(s.render=t,s.staticRenderFns=o,s._compiled=!0),i&&(s._scopeId="data-v-"+i),{exports:e,options:s}}const c={props:{value:String,icon:String,layout:String}};var l=function(){var t=this,o=t._self._c;return o("div",{staticClass:"blockinfo"},[o("div",[o("svg",{staticClass:"k-icon",attrs:{"aria-hidden":"true"}},[o("use",{attrs:{"xlink:href":"#icon-"+t.icon}})]),t._v(" "+t._s(t.value)+" "),t.layout?o("span",[t._v("("+t._s(t.layout)+")")]):t._e()])])},u=[],d=a(c,l,u,!1,null,"0c498ebd");const p=d.exports,h={props:{quote:String,author:String},computed:{parsedQuoteData(){const e=this.quote;if(!e)return{text:"",align:"left"};try{return typeof e=="string"?JSON.parse(e):e}catch{return{text:e,align:"left"}}},parsedAuthorData(){const e=this.author;if(!e)return{text:""};try{return typeof e=="string"?JSON.parse(e):e}catch{return{text:e}}},quoteText(){const{text:e=""}=this.parsedQuoteData;return e},authorText(){const{text:e=""}=this.parsedAuthorData;return e},quoteAlign(){const{align:e="left"}=this.parsedQuoteData;return e},authorAlign(){const{align:e="left"}=this.parsedAuthorData;return e}},methods:{nl2br(e){return e?e.replace(/\n/g,"<br>"):""}}};var f=function(){var t=this,o=t._self._c;return o("div",{staticClass:"pwquote"},[t.quoteText?o("div",{staticClass:"quote",attrs:{"data-align":t.quoteAlign},domProps:{innerHTML:t._s(t.nl2br(t.quoteText))}}):o("div",{staticClass:"quote placeholder"},[t._v(" "+t._s(t.$t("pw.field.text-quote.placeholder"))+" ")]),t.authorText?o("div",{staticClass:"author",attrs:{"data-align":t.authorAlign}},[t._v(t._s(t.authorText))]):o("div",{staticClass:"author placeholder"},[t._v(" "+t._s(t.$t("pw.field.author.placeholder"))+" ")])])},g=[],_=a(h,f,g,!1,null,"a0c67172");const m=_.exports,v={components:{pwBlockinfo:p,pwQuote:m},mixins:[{computed:{gridVars(){return{"--grid-start-sm":Number(this.content.gridoffsetsm),"--grid-span-sm":Number(this.content.gridsizesm),"--grid-start-md":Number(this.content.gridoffsetmd),"--grid-span-md":Number(this.content.gridsizemd),"--grid-start-lg":Number(this.content.gridoffsetlg),"--grid-span-lg":Number(this.content.gridsizelg),"--grid-start-xl":Number(this.content.gridoffsetxl),"--grid-span-xl":Number(this.content.gridsizexl)}}}},{data(){return{colors:null}},async created(){try{this.colors=await this.$api.get("pagewizard/colors")}catch{this.colors=null}},computed:{colorVars(){if(!this.colors)return{};const e=this.content.style||"default",t={};if(e==="custom"){for(const[n,r]of Object.entries(this.colors.default))t["--"+n]=r;if(this.content.textcolor&&(t["--pw-color-text"]=this.content.textcolor,t["--pw-color-heading"]=this.content.textcolor,t["--pw-color-tagline"]=this.content.textcolor,t["--pw-color-link"]=this.content.textcolor,t["--pw-color-quote"]=this.content.textcolor,t["--pw-color-cite"]=this.content.textcolor),this.content.backgroundcolor&&(t["--pw-color-block-background"]=this.content.backgroundcolor),(this.content.buttonstyle||"default")==="variant"&&this.colors.variant){const n=Object.keys(this.colors.variant).filter(r=>r.startsWith("pw-color-button"));for(const r of n)t["--"+r]=this.colors.variant[r]}}else{const o=e==="variant"?{...this.colors.default,...this.colors.variant}:this.colors.default;for(const[n,r]of Object.entries(o))t["--"+n]=r}return t}}}]};var b=function(){var t=this,o=t._self._c;return o("div",{staticClass:"pwPreview",style:t.colorVars,attrs:{"data-kirbyblock":"quote","data-margintop":t.content.margintop===!0?"true":null,"data-marginbottom":t.content.marginbottom===!0?"true":null},on:{dblclick:t.open}},[o("pwBlockinfo",{attrs:{value:t.$t("kirbyblock-quote.name"),icon:"quote"}}),o("div",{staticClass:"pwGrid"},[o("div",{staticClass:"pwGridItem",style:t.gridVars,attrs:{"data-paddingtop":t.content.paddingtop===!0?"true":null,"data-paddingright":t.content.paddingright===!0?"true":null,"data-paddingbottom":t.content.paddingbottom===!0?"true":null,"data-paddingleft":t.content.paddingleft===!0?"true":null}},[o("pwQuote",{attrs:{quote:t.content.textquote,author:t.content.author}})],1)])],1)},y=[],w=a(v,b,y,!1,null,null);const x=w.exports;panel.plugin("kirbydesk/kirbyblock-quote",{blocks:{pwquote:x}})})();
